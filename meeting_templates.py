#!/usr/bin/env python3
"""
–®–∞–±–ª–æ–Ω—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –≤—Å—Ç—Ä–µ—á
"""

from typing import Dict, Optional
import json
import os

class MeetingTemplates:
    """–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –≤—Å—Ç—Ä–µ—á"""
    
    def __init__(self, templates_config_file: str = "templates_config.json"):
        self.templates_config_file = templates_config_file
        self.load_templates_config()
        
        # –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
        self.builtin_templates = {
            "standard": self._standard_template,
            "business": self._business_template,
            "project": self._project_template,
            "standup": self._standup_template,
            "interview": self._interview_template,
            "brainstorm": self._brainstorm_template,
            "review": self._review_template,
            "planning": self._planning_template,
            "technical": self._technical_template,
            "sales": self._sales_template
        }
    
    def load_templates_config(self):
        """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —à–∞–±–ª–æ–Ω–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞"""
        try:
            if os.path.exists(self.templates_config_file):
                with open(self.templates_config_file, "r", encoding="utf-8") as f:
                    self.config = json.load(f)
            else:
                # –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                self.config = {
                    "default_template": "standard",
                    "custom_templates": {},
                    "template_settings": {
                        "include_technical_info": True,
                        "include_file_datetime": True,
                        "language": "ru",
                        "max_tokens": 2000
                    }
                }
                self.save_templates_config()
        except Exception as e:
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤: {e}")
            self.config = {"default_template": "standard", "custom_templates": {}}
    
    def save_templates_config(self):
        """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —à–∞–±–ª–æ–Ω–æ–≤ –≤ —Ñ–∞–π–ª"""
        try:
            with open(self.templates_config_file, "w", encoding="utf-8") as f:
                json.dump(self.config, f, ensure_ascii=False, indent=2)
        except Exception as e:
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤: {e}")
    
    def get_template(self, template_type: str = None, transcript: str = "", file_datetime_info: dict = None) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω"""
        if template_type is None:
            template_type = self.config.get("default_template", "standard")
        
        # –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
        if template_type == "auto":
            template_type = self._detect_meeting_type(transcript)
            print(f"ü§ñ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏: {template_type}")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —à–∞–±–ª–æ–Ω—ã
        if template_type in self.config.get("custom_templates", {}):
            template = self.config["custom_templates"][template_type]
            print(f"üìù –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —à–∞–±–ª–æ–Ω: {template_type}")
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
        elif template_type in self.builtin_templates:
            template = self.builtin_templates[template_type]()
            print(f"üìù –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω: {template_type}")
        else:
            print(f"‚ö†Ô∏è –®–∞–±–ª–æ–Ω '{template_type}' –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π")
            template = self.builtin_templates["standard"]()
        
        # –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∞—Ç–µ –∏ –≤—Ä–µ–º–µ–Ω–∏
        datetime_info = ""
        datetime_display = " - —É–∫–∞–∑–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –∫–∞–∫ '–Ω–µ —É–∫–∞–∑–∞–Ω–æ'"
        
        if file_datetime_info and self.config.get("template_settings", {}).get("include_file_datetime", True):
            datetime_info = f"""
–î–∞—Ç–∞ –≤—Å—Ç—Ä–µ—á–∏: {file_datetime_info['date']} ({file_datetime_info['weekday_ru']})
"""
            datetime_display = f" - {file_datetime_info['datetime_full']}"
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —à–∞–±–ª–æ–Ω
        try:
            formatted_template = template.format(
                datetime_info=datetime_info,
                datetime_display=datetime_display,
                transcript="{transcript}"  # –û—Å—Ç–∞–≤–ª—è–µ–º –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏
            )
        except KeyError as e:
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞: {e}")
            # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —à–∞–±–ª–æ–Ω –∫–∞–∫ –µ—Å—Ç—å, –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å
            formatted_template = template
        
        return formatted_template
    
    def _detect_meeting_type(self, transcript: str) -> str:
        """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –≤—Å—Ç—Ä–µ—á–∏ –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é"""
        transcript_lower = transcript.lower()
        
        # –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤—Å—Ç—Ä–µ—á
        keywords = {
            "standup": ["—Å—Ç–µ–Ω–¥–∞–ø", "standup", "daily", "—á—Ç–æ –¥–µ–ª–∞–ª", "—á—Ç–æ –±—É–¥—É –¥–µ–ª–∞—Ç—å", "–±–ª–æ–∫–µ—Ä—ã", "–≤—á–µ—Ä–∞", "—Å–µ–≥–æ–¥–Ω—è"],
            "project": ["–ø—Ä–æ–µ–∫—Ç", "milestone", "–¥–µ–¥–ª–∞–π–Ω", "–∑–∞–¥–∞—á–∞", "—Å–ø—Ä–∏–Ω—Ç", "backlog", "—Ä–∏—Å–∫"],
            "business": ["–±—é–¥–∂–µ—Ç", "roi", "–ø—Ä–∏–±—ã–ª—å", "—Å—Ç—Ä–∞—Ç–µ–≥–∏—è", "–∫–ª–∏–µ–Ω—Ç", "–ø—Ä–æ–¥–∞–∂–∏", "–¥–æ–≥–æ–≤–æ—Ä"],
            "interview": ["–∏–Ω—Ç–µ—Ä–≤—å—é", "–∫–∞–Ω–¥–∏–¥–∞—Ç", "–æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã", "–Ω–∞–≤—ã–∫–∏", "–ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–ª–∏", "–∑–∞—Ä–ø–ª–∞—Ç–∞"],
            "brainstorm": ["–∏–¥–µ—è", "–º–æ–∑–≥–æ–≤–æ–π —à—Ç—É—Ä–º", "–∫—Ä–µ–∞—Ç–∏–≤", "–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "–∫–∞–∫ –µ—Å–ª–∏", "–∞ —á—Ç–æ –µ—Å–ª–∏"],
            "review": ["—Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–∞", "—á—Ç–æ –ø—Ä–æ—à–ª–æ —Ö–æ—Ä–æ—à–æ", "—á—Ç–æ —É–ª—É—á—à–∏—Ç—å", "–ø—Ä–æ–±–ª–µ–º—ã", "feedback"],
            "technical": ["–∫–æ–¥", "–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞", "–±–∞–≥", "deploy", "api", "database", "server"],
            "sales": ["–ø—Ä–æ–¥–∞–∂–∞", "–∫–ª–∏–µ–Ω—Ç", "—Å–¥–µ–ª–∫–∞", "–∫–≤–æ", "–∫–æ–Ω–≤–µ—Ä—Å–∏—è", "–ª–∏–¥", "crm"]
        }
        
        scores = {}
        for meeting_type, words in keywords.items():
            score = sum(1 for word in words if word in transcript_lower)
            if score > 0:
                scores[meeting_type] = score
        
        if scores:
            best_match = max(scores, key=scores.get)
            return best_match
        
        return "standard"
    
    def get_available_templates(self) -> dict:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤"""
        builtin = list(self.builtin_templates.keys())
        custom = list(self.config.get("custom_templates", {}).keys())
        
        return {
            "builtin": builtin,
            "custom": custom,
            "all": builtin + custom
        }
    
    def add_custom_template(self, name: str, template: str):
        """–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —à–∞–±–ª–æ–Ω"""
        if "custom_templates" not in self.config:
            self.config["custom_templates"] = {}
        
        self.config["custom_templates"][name] = template
        self.save_templates_config()
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —à–∞–±–ª–æ–Ω: {name}")
    
    def _standard_template(self) -> str:
        """–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤—Å—Ç—Ä–µ—á–∏"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –≤—Å—Ç—Ä–µ—á–∏ –∏ —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤—Å—Ç—Ä–µ—á–∏, –≤–∫–ª—é—á–∞—é—â–∏–π:

1. **–î–∞—Ç–∞ –≤—Å—Ç—Ä–µ—á–∏**{datetime_display}
2. **–£—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—Å—Ç—Ä–µ—á–∏** - –æ–ø—Ä–µ–¥–µ–ª–∏ –∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞
3. **–ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –≤—Å—Ç—Ä–µ—á–∏**
4. **–û—Å–Ω–æ–≤–Ω—ã–µ –æ–±—Å—É–∂–¥–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã**
5. **–ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è**
6. **–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ**
7. **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**
8. **–î–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–π –≤—Å—Ç—Ä–µ—á–∏ (–µ—Å–ª–∏ —É–ø–æ–º–∏–Ω–∞–ª–∞—Å—å)**

–û—Ñ–æ—Ä–º–∏ –æ—Ç–≤–µ—Ç –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Å —á–µ—Ç–∫–∏–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏.
–ï—Å–ª–∏ –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –Ω–µ —É–∫–∞–∑–∞–Ω—ã –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–µ.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _business_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è –¥–µ–ª–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –¥–µ–ª–æ–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏ –∏ —Å–æ–∑–¥–∞–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–µ–ª–æ–≤–æ–π –≤—Å—Ç—Ä–µ—á–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

# 1. –û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø
- **–î–∞—Ç–∞:** {datetime_display}
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏:** [–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ä–æ–ª–µ–π]
- **–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è:** [–µ—Å–ª–∏ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è]
- **–¢–∏–ø –≤—Å—Ç—Ä–µ—á–∏:** [–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É]

# 2. –ü–û–í–ï–°–¢–ö–ê –î–ù–Ø
- [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è]

# 3. –û–ë–°–£–ñ–î–ï–ù–ò–ï
- [–î–µ—Ç–∞–ª—å–Ω–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ –æ–±—Å—É–∂–¥–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤]

# 4. –ü–†–ò–ù–Ø–¢–´–ï –†–ï–®–ï–ù–ò–Ø
- [–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö]

# 5. –ü–û–†–£–ß–ï–ù–ò–Ø –ò –ó–ê–î–ê–ß–ò
- [–ó–∞–¥–∞—á–∏ —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ –∏ —Å—Ä–æ–∫–∞–º–∏]

# 6. –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï
- **–°–ª–µ–¥—É—é—â–∞—è –≤—Å—Ç—Ä–µ—á–∞:** [–¥–∞—Ç–∞/–≤—Ä–µ–º—è –µ—Å–ª–∏ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å]
- **–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏:** [–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏]

# 7. –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
- [–£–ø–æ–º—è–Ω—É—Ç—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, —Å—Å—ã–ª–∫–∏, –º–∞—Ç–µ—Ä–∏–∞–ª—ã]

–ò—Å–ø–æ–ª—å–∑—É–π –¥–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å –∏–∑–ª–æ–∂–µ–Ω–∏—è, —Ç–æ—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _project_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è –ø—Ä–æ–µ–∫—Ç–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –≤—Å—Ç—Ä–µ—á–∏ –∏ —Å–æ–∑–¥–∞–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –≤—Å—Ç—Ä–µ—á–∏:

# üìã –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –í–°–¢–†–ï–ß–ï
- **–î–∞—Ç–∞:** {datetime_display}
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:** [—Ä–æ–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ]
- **–§–∞–∑–∞ –ø—Ä–æ–µ–∫—Ç–∞:** [–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ñ–∞–∑—É]

# üéØ –¶–ï–õ–ò –í–°–¢–†–ï–ß–ò
- [–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ –≤—Å—Ç—Ä–µ—á–∏]

# üìä –°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê
- **–ü—Ä–æ–≥—Ä–µ—Å—Å:** [–æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞]
- **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:** [—á—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ]
- **–¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏:** [—á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–µ–π—á–∞—Å]

# ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –ò –†–ò–°–ö–ò
- **–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:** [—Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã]
- **–†–∏—Å–∫–∏:** [–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏]
- **–ë–ª–æ–∫–µ—Ä—ã:** [—á—Ç–æ –º–µ—à–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å—É]

# ‚úÖ –†–ï–®–ï–ù–ò–Ø –ò –î–ï–ô–°–¢–í–ò–Ø
- **–ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è:** [—Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º]
- **–ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:** [–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, —Å—Ä–æ–∫, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç]
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–ª–∞–Ω–∞—Ö:** [–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏]

# üìÖ –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï
- **–ë–ª–∏–∂–∞–π—à–∏–µ milestone:** [–∫–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏]
- **–°–ª–µ–¥—É—é—â–∞—è –≤—Å—Ç—Ä–µ—á–∞:** [–¥–∞—Ç–∞ –∏ —Ü–µ–ª–∏]
- **–î–µ–¥–ª–∞–π–Ω—ã:** [–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ä–æ–∫–∏]

–°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–º, —Ç—Ä–µ–∫–∏–Ω–≥–µ –∑–∞–¥–∞—á –∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Ä–∏—Å–∫–æ–≤.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _standup_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —Å—Ç–µ–Ω–¥–∞–ø–æ–≤"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Å—Ç–µ–Ω–¥–∞–ø–∞ –∫–æ–º–∞–Ω–¥—ã.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –∫—Ä–∞—Ç–∫–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Å—Ç–µ–Ω–¥–∞–ø–∞:

# üë• –£–ß–ê–°–¢–ù–ò–ö–ò
[–°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã]

# üìà –ß–¢–û –°–î–ï–õ–ê–ù–û (Yesterday)
**–ü–æ –∫–∞–∂–¥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É:**
- [–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏]

# üéØ –ü–õ–ê–ù–´ –ù–ê –°–ï–ì–û–î–ù–Ø (Today)
**–ü–æ –∫–∞–∂–¥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É:**
- [–ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∑–∞–¥–∞—á–∏]

# üö´ –ë–õ–û–ö–ï–†–´ –ò –ü–†–û–ë–õ–ï–ú–´ (Blockers)
- [–ø—Ä–æ–±–ª–µ–º—ã, —Ç—Ä–µ–±—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è]
- [–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–æ–º–∞–Ω–¥]

# ü§ù –ü–û–ú–û–©–¨ –ò –ö–û–û–†–î–ò–ù–ê–¶–ò–Ø
- [–≥–¥–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å –∫–æ–º–∞–Ω–¥—ã]
- [–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏]

# ‚ö° –≠–ö–°–ü–†–ï–°–°-–†–ï–®–ï–ù–ò–Ø
- [–±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—ã–µ –Ω–∞ —Å—Ç–µ–Ω–¥–∞–ø–µ]

# üìä –û–ë–©–ò–ô –°–¢–ê–¢–£–° –°–ü–†–ò–ù–¢–ê
- [–ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ü–µ–ª—è–º —Å–ø—Ä–∏–Ω—Ç–∞]

–ë—É–¥—å –∫—Ä–∞—Ç–æ–∫, —Ñ–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è—Ö –∏ –±–ª–æ–∫–µ—Ä–∞—Ö.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _interview_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ—Ä–≤—å—é –∏ —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –æ–± –∏–Ω—Ç–µ—Ä–≤—å—é:

# üìã –ò–ù–§–û–†–ú–ê–¶–ò–Ø
- **–î–∞—Ç–∞:** {datetime_display}
- **–ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä:** [–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞]
- **–ö–∞–Ω–¥–∏–¥–∞—Ç/–ò–Ω—Ç–µ—Ä–≤—å—é–∏—Ä—É–µ–º—ã–π:** [–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å]
- **–ü–æ–∑–∏—Ü–∏—è/–¢–µ–º–∞:** [–¥–ª—è —á–µ–≥–æ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –∏–Ω—Ç–µ—Ä–≤—å—é]

# üéØ –¶–ï–õ–¨ –ò–ù–¢–ï–†–í–¨–Æ
- [–æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –∏ –∑–∞–¥–∞—á–∏ –∏–Ω—Ç–µ—Ä–≤—å—é]

# üí¨ –û–°–ù–û–í–ù–´–ï –í–û–ü–†–û–°–´ –ò –û–¢–í–ï–¢–´
1. **–í–æ–ø—Ä–æ—Å:** [–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã]
   **–û—Ç–≤–µ—Ç:** [—Å—É—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞]

# üí™ –°–ò–õ–¨–ù–´–ï –°–¢–û–†–û–ù–´
- [–≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã]
- [–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã]

# ‚ö†Ô∏è –û–ë–õ–ê–°–¢–ò –î–õ–Ø –†–ê–ó–í–ò–¢–ò–Ø
- [—Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏–ª–∏ –ø—Ä–æ–±–µ–ª—ã]
- [–≤–æ–ø—Ä–æ—Å—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏]

# üéØ –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø–ú
- [–Ω–∞—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç]
- [—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–µ–≤—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º]

# üìù –û–ë–©–ï–ï –í–ü–ï–ß–ê–¢–õ–ï–ù–ò–ï
- [—Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞]
- [—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–∏–º —à–∞–≥–∞–º]

# üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò
- [—á—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–∞–ª–µ–µ]
- [–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–ª–∏ –∏–Ω—Ç–µ—Ä–≤—å—é]

–ë—É–¥—å –æ–±—ä–µ–∫—Ç–∏–≤–µ–Ω, –æ—Ç–¥–µ–ª—è–π —Ñ–∞–∫—Ç—ã –æ—Ç –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _brainstorm_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è –º–æ–∑–≥–æ–≤–æ–≥–æ —à—Ç—É—Ä–º–∞"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç —Å–µ—Å—Å–∏–∏ –º–æ–∑–≥–æ–≤–æ–≥–æ —à—Ç—É—Ä–º–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –∏–¥–µ–∏.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –æ –º–æ–∑–≥–æ–≤–æ–º —à—Ç—É—Ä–º–µ:

# üéØ –¢–ï–ú–ê –ò –¶–ï–õ–¨
- **–î–∞—Ç–∞:** {datetime_display}
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏:** [–∫—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞]
- **–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞/–≤—ã–∑–æ–≤:** [—á—Ç–æ —Ä–µ—à–∞–ª–∏]

# üí° –°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–´–ï –ò–î–ï–ò

## üåü –¢–û–ü-–ò–î–ï–ò (–Ω–∞–∏–±–æ–ª–µ–µ –æ–±—Å—É–∂–¥–∞–µ–º—ã–µ)
1. **–ò–¥–µ—è:** [–æ–ø–∏—Å–∞–Ω–∏–µ]
   - **–ê–≤—Ç–æ—Ä:** [–∫—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–∏–ª]
   - **–û–±—Å—É–∂–¥–µ–Ω–∏–µ:** [—Ä–µ–∞–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã]

## üîß –ü–†–ê–ö–¢–ò–ß–ù–´–ï –†–ï–®–ï–ù–ò–Ø
- [—Ä–µ–∞–ª–∏–∑—É–µ–º—ã–µ –≤ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ä–æ–∫–∏]

## üöÄ –ò–ù–ù–û–í–ê–¶–ò–û–ù–ù–´–ï –ö–û–ù–¶–ï–ü–¶–ò–ò
- [—Å–º–µ–ª—ã–µ –∏ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–µ –∏–¥–µ–∏]

# üìä –ö–†–ò–¢–ï–†–ò–ò –û–¶–ï–ù–ö–ò
- [–∫–∞–∫–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å]
- [–º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∏–¥–µ–π]

# ‚úÖ –û–¢–û–ë–†–ê–ù–ù–´–ï –î–õ–Ø –ü–†–û–†–ê–ë–û–¢–ö–ò
1. [–∏–¥–µ—è + –ø—Ä–∏—á–∏–Ω—ã –≤—ã–±–æ—Ä–∞]

# üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò
- **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** [—á—Ç–æ –Ω—É–∂–Ω–æ –∏–∑—É—á–∏—Ç—å]
- **–ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** [—á—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å]
- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ:** [–∫—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–æ–π]

–°–æ—Ö—Ä–∞–Ω–∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é, —Å–≥—Ä—É–ø–ø–∏—Ä—É–π –∏–¥–µ–∏ –ª–æ–≥–∏—á–Ω–æ.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _review_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤ –∏ –æ–±–∑–æ—Ä–æ–≤"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤—ã/–æ–±–∑–æ—Ä–∞ –∏ —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –æ —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–µ:

# üìã –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –°–ï–°–°–ò–ò
- **–î–∞—Ç–∞:** {datetime_display}
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏:** [–∫–æ–º–∞–Ω–¥–∞]
- **–ü–µ—Ä–∏–æ–¥ –æ–±–∑–æ—Ä–∞:** [—á—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏]

# ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–õ–û –•–û–†–û–®–û (What Went Well)
- [—É—Å–ø–µ—Ö–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è]
- [—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã]

# ‚ùå –ß–¢–û –ú–û–ñ–ù–û –£–õ–£–ß–®–ò–¢–¨ (What Could Be Improved)
- [–ø—Ä–æ–±–ª–µ–º—ã –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏]
- [–Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã]

# üîç –ö–û–†–ù–ï–í–´–ï –ü–†–ò–ß–ò–ù–´
- [–∞–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω –ø—Ä–æ–±–ª–µ–º]
- [—Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã]

# üí° –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ
1. **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:** [–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ]
   - **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:**

# üéØ –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô
- **–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:** [—á—Ç–æ –¥–µ–ª–∞–µ–º —Å—Ä–∞–∑—É]
- **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:** [1-2 –Ω–µ–¥–µ–ª–∏]
- **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** [–º–µ—Å—è—Ü –∏ –±–æ–ª—å—à–µ]

# üìÖ –°–õ–ï–î–£–Æ–©–ê–Ø –†–ï–¢–†–û–°–ü–ï–ö–¢–ò–í–ê
- **–î–∞—Ç–∞:** [–∫–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è]
- **–§–æ–∫—É—Å:** [–Ω–∞ —á—Ç–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ]

–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è—Ö –∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _planning_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –≤—Å—Ç—Ä–µ—á–∏ –ø–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∏ —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:

# üìã –ò–ù–§–û–†–ú–ê–¶–ò–Ø
- **–î–∞—Ç–∞:** {datetime_display}
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏:** [–∫–æ–º–∞–Ω–¥–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è]
- **–ü–µ—Ä–∏–æ–¥ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:** [—á—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ–º]

# üéØ –¶–ï–õ–ò –ò –ó–ê–î–ê–ß–ò
- [–æ—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ –ø–µ—Ä–∏–æ–¥–∞]
- [–∫–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã]

# üìä –ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ï–ô –°–ò–¢–£–ê–¶–ò–ò
- [—Å —á–µ–≥–æ –Ω–∞—á–∏–Ω–∞–µ–º]
- [–∏–º–µ—é—â–∏–µ—Å—è —Ä–µ—Å—É—Ä—Å—ã]

# üìù –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô
## –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ (1-2 –Ω–µ–¥–µ–ª–∏)
1. [–∑–∞–¥–∞—á–∞] - [–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π] - [–¥–µ–¥–ª–∞–π–Ω]

## –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–º–µ—Å—è—Ü)
1. [–∑–∞–¥–∞—á–∞] - [–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π] - [–¥–µ–¥–ª–∞–π–Ω]

## –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (–∫–≤–∞—Ä—Ç–∞–ª)
1. [—Ü–µ–ª—å] - [–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π] - [–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏]

# üí∞ –†–ï–°–£–†–°–´ –ò –ë–Æ–î–ñ–ï–¢
- [–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã]
- [–±—é–¥–∂–µ—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è]

# ‚ö†Ô∏è –†–ò–°–ö–ò –ò –ú–ò–¢–ò–ì–ê–¶–ò–Ø
- [–≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏]
- [–ø–ª–∞–Ω —Å–Ω–∏–∂–µ–Ω–∏—è —Ä–∏—Å–∫–æ–≤]

# üìÖ –ö–û–ù–¢–†–û–õ–¨–ù–´–ï –¢–û–ß–ö–ò
- [–¥–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞]
- [–∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞]

–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –ø–ª–∞–Ω —á–µ—Ç–∫–æ, —Å —è—Å–Ω—ã–º–∏ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º–∏.
"""
    
    def _technical_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤—Å—Ç—Ä–µ—á"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –≤—Å—Ç—Ä–µ—á–∏ –∏ —Å–æ–∑–¥–∞–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –≤—Å—Ç—Ä–µ—á–∏:

# üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø
- **–î–∞—Ç–∞:** {datetime_display}
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏:** [–∫–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏]
- **–°–∏—Å—Ç–µ–º—ã/–ø—Ä–æ–µ–∫—Ç—ã:** [—á—Ç–æ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å]

# üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –†–ï–®–ï–ù–ò–Ø
- [–ø—Ä–∏–Ω—è—Ç—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è]
- [–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–∏–∑–∞–π–Ω–µ —Å–∏—Å—Ç–µ–º—ã]

# üêõ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´
- **–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏:** [–æ–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç]
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** [—É–∑–∫–∏–µ –º–µ—Å—Ç–∞]
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** [—É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ —Ä–∏—Å–∫–∏]

# üíª –†–ï–®–ï–ù–ò–Ø –ò –§–ò–ö–°–´
- [–ø—Ä–∏–Ω—è—Ç—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è]
- [–ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º]

# üöÄ –î–ï–ü–õ–û–ô –ò –†–ï–õ–ò–ó–´
- [–ø–ª–∞–Ω—ã –ø–æ –¥–µ–ø–ª–æ—é]
- [–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–µ–ª–∏–∑—É]

# üìö –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø
- [—á—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å]
- [–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏]

# üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò
- [—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏]
- [–∫–æ–¥-—Ä–µ–≤—å—é –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ]

–ò—Å–ø–æ–ª—å–∑—É–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã —Ç–æ—á–Ω–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π —Ä–µ—à–µ–Ω–∏—è —á–µ—Ç–∫–æ.
–ù–µ –≤—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞.
"""
    
    def _sales_template(self) -> str:
        """–®–∞–±–ª–æ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∂–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á"""
        return """
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –≤—Å—Ç—Ä–µ—á–∏ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º –∏ —Å–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç.
{datetime_info}
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:
{{transcript}}

–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–¥–∞–∂–Ω–æ–π –≤—Å—Ç—Ä–µ—á–µ:

# üíº –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –í–°–¢–†–ï–ß–ï
- **–î–∞—Ç–∞:** {datetime_display}
- **–£—á–∞—Å—Ç–Ω–∏–∫–∏:** [–∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–¥–∞–∂]
- **–ö–ª–∏–µ–Ω—Ç/–õ–∏–¥:** [—Å –∫–µ–º –≤—Å—Ç—Ä–µ—á–∞]

# üéØ –¶–ï–õ–¨ –í–°–¢–†–ï–ß–ò
- [—á—Ç–æ —Ö–æ—Ç–µ–ª–∏ –¥–æ—Å—Ç–∏—á—å]
- [—ç—Ç–∞–ø –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂]

# üó£Ô∏è –ü–†–ï–ó–ï–ù–¢–ê–¶–ò–Ø –ò –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï
- [—á—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª–∏]
- [–∫–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞]

# ‚ùì –í–û–ü–†–û–°–´ –ò –í–û–ó–†–ê–ñ–ï–ù–ò–Ø –ö–õ–ò–ï–ù–¢–ê
- [–æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–∞]
- [–≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–æ–º–Ω–µ–Ω–∏—è]

# üí° –ü–û–¢–†–ï–ë–ù–û–°–¢–ò –ö–õ–ò–ï–ù–¢–ê
- [–≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏]
- [–±–æ–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞]

# üí∞ –ö–û–ú–ú–ï–†–ß–ï–°–ö–ò–ï –£–°–õ–û–í–ò–Ø
- [–æ–±—Å—É–∂–¥–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞]
- [—É—Å–ª–æ–≤–∏—è —Å–¥–µ–ª–∫–∏]

# üìà –ü–†–û–ì–ù–û–ó –°–î–ï–õ–ö–ò
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç–∏—è:** [%]
- **–°—É–º–º–∞ —Å–¥–µ–ª–∫–∏:** [–µ—Å–ª–∏ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å]
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏:** [–∫–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è]

# üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò
- [—á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è]
- [—Å–ª–µ–¥—É—é—â–∞—è –≤—Å—Ç—Ä–µ—á–∞]

# üìä CRM –û–ë–ù–û–í–õ–ï–ù–ò–Ø
- [—á—Ç–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ CRM]
- [—Å—Ç–∞—Ç—É—Å –ª–∏–¥–∞]

–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö.
"""

def load_templates_config(config_file: str = "templates_config.json") -> dict:
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —à–∞–±–ª–æ–Ω–æ–≤"""
    templates = MeetingTemplates(config_file)
    return templates.config

def main():
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏"""
    print("üìù –£–ü–†–ê–í–õ–ï–ù–ò–ï –®–ê–ë–õ–û–ù–ê–ú–ò –ü–†–û–¢–û–ö–û–õ–û–í –í–°–¢–†–ï–ß")
    print("=" * 50)
    
    templates = MeetingTemplates()
    
    print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:")
    print("1. –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã")
    print("2. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —à–∞–±–ª–æ–Ω")
    print("3. –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —à–∞–±–ª–æ–Ω")
    print("4. –¢–µ—Å—Ç –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏")
    print("5. –í—ã—Ö–æ–¥")
    
    choice = input("\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-5): ").strip()
    
    if choice == "1":
        available = templates.get_available_templates()
        print(f"\nüìã –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã: {', '.join(available['builtin'])}")
        print(f"üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ: {', '.join(available['custom'])}")
        
    elif choice == "2":
        template_name = input("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞: ").strip()
        template = templates.get_template(template_name)
        print(f"\nüìù –®–∞–±–ª–æ–Ω '{template_name}':")
        print("-" * 50)
        print(template[:500] + "..." if len(template) > 500 else template)
        
    elif choice == "3":
        name = input("–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞: ").strip()
        print("–í–≤–µ–¥–∏—Ç–µ —à–∞–±–ª–æ–Ω (–∑–∞–≤–µ—Ä—à–∏—Ç–µ –≤–≤–æ–¥–æ–º –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏):")
        lines = []
        while True:
            line = input()
            if not line:
                break
            lines.append(line)
        template_text = "\n".join(lines)
        templates.add_custom_template(name, template_text)
        
    elif choice == "4":
        test_text = input("–í–≤–µ–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞: ")
        detected_type = templates._detect_meeting_type(test_text)
        print(f"ü§ñ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø –≤—Å—Ç—Ä–µ—á–∏: {detected_type}")
        
    elif choice == "5":
        print("üëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
    else:
        print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä")

if __name__ == "__main__":
    main()
