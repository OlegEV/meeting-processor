# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å—Ç—Ä–µ—á

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### Python –ø–∞–∫–µ—Ç—ã
```bash
pip install python-telegram-bot
pip install deepgram-sdk
pip install anthropic
pip install requests
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- FFmpeg (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ)
- –ú–∏–Ω–∏–º—É–º 2GB RAM
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Meeting Processor Bot")
4. –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "meeting_processor_bot")
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `bot_config.json`:

```json
{
  "telegram": {
    "bot_token": "–í–°–¢–ê–í–¨–¢–ï_–í–ê–®_–¢–û–ö–ï–ù_–°–Æ–î–ê",
    "allowed_users": [123456789, 987654321],
    "admin_users": [123456789],
    "max_file_size_mb": 50
  }
}
```

**–ö–∞–∫ –Ω–∞–π—Ç–∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `api_keys.json`:

```json
{
  "api_keys": {
    "deepgram": "–í–ê–®_DEEPGRAM_–ö–õ–Æ–ß",
    "claude": "–í–ê–®_CLAUDE_–ö–õ–Æ–ß"
  }
}
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python telegram_bot.py
```

## üõ†Ô∏è –î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
project/
‚îú‚îÄ‚îÄ telegram_bot.py          # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ bot_config.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ api_keys.json           # API –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ meeting_processor.py    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å—Ç—Ä–µ—á
‚îú‚îÄ‚îÄ meeting_templates.py    # –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
‚îú‚îÄ‚îÄ templates_config.json   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ names_config.json       # –ó–∞–º–µ–Ω–∞ –∏–º–µ–Ω —Å–ø–∏–∫–µ—Ä–æ–≤
‚îî‚îÄ‚îÄ config.json            # –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–í `bot_config.json`:

```json
{
  "telegram": {
    "allowed_users": [123456789],    // –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    "admin_users": [123456789]       // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
  },
  "security": {
    "rate_limit_messages_per_minute": 10,
    "rate_limit_files_per_hour": 5,
    "block_suspicious_files": true
  }
}
```

**–ï—Å–ª–∏ `allowed_users` –ø—É—Å—Ç - –¥–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω –≤—Å–µ–º!**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

```json
{
  "processing": {
    "default_template": "standard",
    "max_concurrent_jobs": 3,
    "processing_timeout": 1800,
    "auto_detect_template": false
  }
}
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```json
{
  "notifications": {
    "send_progress_updates": true,
    "notify_on_completion": true,
    "notify_on_error": true
  }
}
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º |
| `/templates` | –í—ã–±—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ |
| `/settings` | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `/status` | –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ |
| `/cancel` | –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É |

### –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞:** `/templates` ‚Üí –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —à–∞–±–ª–æ–Ω
2. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞:** –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ —Ñ–∞–π–ª
3. **–û–∂–∏–¥–∞–Ω–∏–µ:** –ë–æ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∞–π–ª (2-15 –º–∏–Ω—É—Ç)
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

**–ê—É–¥–∏–æ:** MP3, WAV, FLAC, AAC, M4A, OGG
**–í–∏–¥–µ–æ:** MP4, AVI, MOV, MKV, WMV, WebM
**–†–∞–∑–º–µ—Ä:** –î–æ 50 –ú–ë (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

## üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```python
# –í bot_config.json –¥–æ–±–∞–≤—å—Ç–µ —Å–µ–±—è –≤ admin_users
"admin_users": [–í–ê–®_ID]
```

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ `/settings`:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∞–π–ª–æ–≤ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
- –°–∏—Å—Ç–µ–º–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

```bash
tail -f telegram_bot.log
```

### –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```json
{
  "storage": {
    "temp_dir": "temp_bot_files",
    "keep_processed_files": false,
    "cleanup_interval_hours": 6
  }
}
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω
grep "bot_token" bot_config.json

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail telegram_bot.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ API –∫–ª—é—á–µ–π
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏
cat api_keys.json

# –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
python -c "from meeting_processor import MeetingProcessor; print('OK')"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å. 50 –ú–ë)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ FFmpeg: `ffmpeg -version`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞
1. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à ID –≤ `allowed_users`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ API –∫–ª—é—á–µ–π
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
chmod 600 api_keys.json
chmod 600 bot_config.json

# –î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore
echo "api_keys.json" >> .gitignore
echo "bot_config.json" >> .gitignore
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
```json
{
  "telegram": {
    "allowed_users": [123456789, 987654321]
  },
  "security": {
    "rate_limit_files_per_hour": 5
  }
}
```

## üåê –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### Systemd —Å–µ—Ä–≤–∏—Å

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/meeting-bot.service`:

```ini
[Unit]
Description=Meeting Telegram Bot
After=network.target

[Service]
Type=simple
User=meetingbot
WorkingDirectory=/opt/meeting-bot
ExecStart=/usr/bin/python3 /opt/meeting-bot/telegram_bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl enable meeting-bot
sudo systemctl start meeting-bot
sudo systemctl status meeting-bot
```

### Docker

–°–æ–∑–¥–∞–π—Ç–µ `Dockerfile`:

```dockerfile
FROM python:3.9-slim

RUN apt-get update && apt-get install -y ffmpeg

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

CMD ["python", "telegram_bot.py"]
```

```bash
docker build -t meeting-bot .
docker run -d --name meeting-bot meeting-bot
```

### Webhook —Ä–µ–∂–∏–º

–í `bot_config.json`:

```json
{
  "telegram": {
    "webhook_url": "https://yourdomain.com/webhook",
    "webhook_port": 8443
  }
}
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```json
{
  "logging": {
    "log_level": "INFO",
    "log_file": "telegram_bot.log",
    "log_file_processing": true
  }
}
```

### –ú–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –û—à–∏–±–∫–∏ –∏ –∏—Ö —Ç–∏–ø—ã
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ñ–æ–Ω–æ–≤—ã–π —à—É–º
- –ì–æ–≤–æ—Ä–∏—Ç–µ —á–µ—Ç–∫–æ –∏ –Ω–µ —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ
- –§–∞–π–ª—ã –¥–æ 15 –º–∏–Ω—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ

### –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞:
- `standup` - –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —Å–æ–∑–≤–æ–Ω–æ–≤
- `business` - –¥–ª—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á
- `project` - –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
- `interview` - –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π
- `auto` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `max_concurrent_jobs: 1` –Ω–∞ —Å–ª–∞–±—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSD –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ –ª–æ–≥–∏

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –æ—á–µ–Ω—å –¥–æ–ª–≥–æ**
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –§–∞–π–ª—ã >15 –º–∏–Ω—É—Ç —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏.

**Q: –ö–∞—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –ø–ª–æ—Ö–æ–µ**
A: –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ö–æ—Ä–æ—à–µ–º –∫–∞—á–µ—Å—Ç–≤–µ –∞—É–¥–∏–æ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–æ–Ω–æ–≤–æ–≥–æ —à—É–º–∞.

**Q: –ë–æ—Ç –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª**
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á Claude –∏ –ª–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f telegram_bot.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `python -c "import json; print(json.load(open('bot_config.json')))"`
3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ: `python meeting_processor.py test.mp3`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
git pull origin main
pip install -r requirements.txt --upgrade
sudo systemctl restart meeting-bot
```